<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

 <script>


let markerArray = [
  [43.28026450000001, 3.280872199999976, "MUSÉE RÉGIONAL D'ART CONTEMPORAIN SÉRIGNAN (MRAC)"],
  [43.179489192279725, 3.0190783306860656, "MUSÉE NARBO VIA"],
  [43.487293, 3.562322999999992, "ABBAYE DE VALMAGNE"],
  [43.487293, 3.562322999999992, "ABBAYE DE VALMAGNE"],
  [43.487293, 3.562322999999992, "ABBAYE DE VALMAGNE"],
  [44.13694381713867, 3.2027781009674072, "LA CITÉ DE PIERRES"],
  [44.2446149,4.3481103, "GROTTE DE LA SALAMANDRE"],
  [44.122563,3.480083, "ABÎME DE BRAMABIAU – GROTTE ET RIVIÈRE SOUTERRAINE"],
  [43.50949900000001, 3.2887309999999843, "CHÂTEAU-ABBAYE DE CASSAN"],
  [43.4179596,3.0552979999999934, "ABBAYE DE FONTCAUDE"],
  [43.523373, 3.9201100000000224, "PRESQU'ÎLE DE MAGUELONE"],
  [43.523373, 3.9201100000000224, "PRESQU'ÎLE DE MAGUELONE"],
  [43.523373, 3.9201100000000224, "PRESQU'ÎLE DE MAGUELONE"],
  [44.095306396484375,3.0227904319763184, "VIADUC DE MILLAU"],
  [43.92146568495831, 3.3181774072878345, "LES SITES TEMPLIERS ET HOSPITALIERS DU LARZAC"],
  [43.8343,2.95903, "ABBAYE DE SYLVANÈS"],
  [43.719023,4.147999400000003, "AMBRUSSUM – SITE ET MUSÉE ARCHÉOLOGIQUE"],
  [43.31078249999999,3.1162632000000485, "ENSÉRUNE, SITE ARCHÉOLOGIQUE ET MUSÉE"],
  [43.9074752,3.744297299999971, "GROTTE DES DEMOISELLES"],
  [43.6619659,3.5885073, "MAS DE DAUMAS GASSAC"],
  [43.5844618, 3.4756934, "DOMAINE DE LA DOURBIE"],
  [43.3263153676274, 3.3780265336645887, "DOMAINE DE PREIGNES LE VIEUX"],
  [43.726215,3.324222, "LA MANUFACTURE NATIONALE DE LA SAVONNERIE À LODÈVE"],
  [43.354790225368745, 2.745875224107929, "MINERVE : CITÉ CATHARE ET PLUS BEAU VILLAGE DE FRANCE"],
  [44.206860858828804,4.242339986162196, "NOUGATERIE DES FUMADES"],
  [43.471415698396896, 3.250763380389678, "CHÂTEAU SAINT PIERRE DE SERJAC"],
  [43.3445185341732, 3.0235516334083363, "CHÂTEAU LES CARRASSES"],
  [43.43732158975271, 3.3285579471594215, "CHÂTEAU HERMITAGE DE COMBAS"],
  [43.392277413974476, 3.55825341534412, "DOMAINE LA BELLONETTE À MARSEILLAN"],
  [43.482211171217614, 3.3951512869627445, "CHÂTEAU DU PARC PÉZENAS"],
  [43.3128743,2.6624343, "CHÂTEAU DE SIRAN – HÔTEL 4 ÉTOILES"],
  [44.090980146271455, 4.184809522780588, "LA MAISON DU PASSAGE"],
  [43.85577218970319, 3.5632381822763115, "CHÂTEAU ZEN – HÔTEL SPA"],
  [43.14408418902019, 2.898674023006596, "ABBAYE DE FONTFROIDE"],
  [43.14408418902019, 2.898674023006596, "ABBAYE DE FONTFROIDE"],
]




var clusterPoints = {
  cluster1: [
  [44.2208849, 3.3570454, "GROTTE DE L'AVEN ARMAND"],
  [44.1964717, 3.3778936, "GROTTE DE DARGILAN"],
  ],
  cluster2: [
  [43.8349,4.359630000000038, "ARÈNES DE NÎMES"],
  [43.8349,4.359630000000038, "ARÈNES DE NÎMES"],
  [43.834251403808594,4.359200477600098, "MUSÉE DE LA ROMANITÉ"],
  ],
  cluster3: [
  [43.734132, 3.3689540000000306, "LE PRIEURÉ SAINT MICHEL DE GRANDMONT"],
  [43.734132, 3.3689540000000306, "LE PRIEURÉ SAINT MICHEL DE GRANDMONT"],
  [43.7318603,3.319902299999967, "MUSÉE DE LODÈVE"],
  ],
  cluster4: [
  [44.108599893525295, 3.9592536423274947, "GROTTE DE TRABUC"],
  [44.1040562,3.8855869, "MAISON ROUGE – MUSÉE DES VALLÉES CÉVENOLES"],
  [44.06933799999999,3.9789740999999594, "BAMBOUSERAIE EN CÉVENNES"],
  ],
  cluster5: [
  [43.35310399999999,3.532320000000027, "MAISON NOILLY PRAT"],
  [43.35819444314835, 3.533083293221044, "L'ÉTOILE DE THAU IV – BATEAU PROMENADE MARSEILLAN"],

  ], 
  cluster6: [
   [43.79606663183797, 3.899158696139368, "CHÂTEAU LA ROQUE – DOMAINE PIC SAINT-LOUP"],
   [43.86074099999999,3.9059720000000198, "HALLE DU VERRE – MUSÉE DU VERRE"],
  ],
  cluster7: [
    [43.3133226,3.4677189000000226, "LES BATEAUX DU SOLEIL"],
    [43.315491,3.468685, "LE CHÂTEAU LAURENS"],
  ],
  cluster8: [
   [43.39687277681779, 3.7017558830777104, "LE PHARE SAINT LOUIS DE SÈTE"],
   [43.4028, 3.6928, "ESPACE GEORGES BRASSENS"],
  ],
  cluster9: [
  [44.05072781261595, 3.9842389656290838, "TRAIN À VAPEUR DES CÉVENNES"],
  [44.05852127075195, 3.974379062652588, "POTERIES D'ANDUZE – LES ENFANTS DE BOISSET"],
  ],
  cluster10: [
  [43.59661766346877, 3.8147436180764918, "DOMAINE DE BIAR"],
  [43.5977465,3.8069061999999576, "CHÂTEAU DE L'ENGARRAN" ],
  [43.5977465,3.8069061999999576, "CHÂTEAU DE L'ENGARRAN"],
  [43.5977465,3.8069061999999576, "CHÂTEAU DE L'ENGARRAN"],
  ],
  cluster11: [
  [43.41973222372712, 3.40768963341075, "HÔTEL SAINT-ALBAN"],
  [43.41469464029691, 3.4138958512144635, "DOMAINE DE LA SOLENCIÈRE"],
  ],
  cluster12: [
  [43.4621362,3.423898300000019, "PÉZENAS, VILLE D'ART ET D'HISTOIRE"],
  [43.46103409907373, 3.422799399044522, "MAISON DES MÉTIERS D'ART DE PÉZENAS"],
  ],
  cluster13: [
  [43.33630323571367, 3.2221452959157064, "MAISON JULLIAN"],
  [43.34591203926485, 3.2256292334083847, "VILLA KUMQUATS, CHAMBRES ET TABLE D'HÔTES URBAINES"],
  ],
  cluster14: [
  [43.61274612730443, 3.8413474130394767, "CHÂTEAU DE LA PISCINE"],
  [43.61092,3.87723, "DOMAINE DU GRAND PUY"],
  ],
  cluster15: [
    [43.090911865234375, 2.619086980819702, "LA BOUQUERIE LAGRASSE"],
    [43.0906641,2.6171883, "ABBAYE MÉDIÉVALE DE LAGRASSE"],
  ],
  cluster16: [
    [43.674831,3.794503999999961, "DOMAINE DE L'OULIVIE"],
    [43.73104,3.809933199999932, "MAISON DES CONSULS – MUSÉE D'ARTS ET D'ARCHÉOLOGIE"],
  ]

};


 let clustersArray = Object.keys(clusterPoints);



function checkClusterDistances() {
    clustersArray.forEach(cluster => {
      for (var i = 0; i <clusterPoints[cluster].length; i++) {
        var a = clusterPoints[cluster][i];
        let next = i+1;
        let a2 = clusterPoints[cluster][next];

        if (a2 != undefined) {
          const start = {
          latitude: a[0],
          longitude: a[1]
        };

        const destination = {
          latitude: a2[0],
          longitude: a2[1]
        };

        let dist = calculateDistance(start, destination);
        console.log(`${cluster}: ${dist.toFixed(2)}`);
        }

  };
    });
}


function degToRad(deg) {
  var rad = (deg * Math.PI)/180;
  return rad;
}

// Calculate distance between two coordinates
function calculateDistance(startCoords, destCoords) {
  const startingLat = degToRad(startCoords.latitude);
  const startingLong = degToRad(startCoords.longitude);
  const destinationLat = degToRad(destCoords.latitude);
  const destinationLong = degToRad(destCoords.longitude);

  // Radius of the Earth (in kilometers)
  const radius = 6371;

  // Haversine formula
  const distance = Math.acos(
    Math.sin(startingLat) * Math.sin(destinationLat) +
    Math.cos(startingLat) * Math.cos(destinationLat) *
    Math.cos(startingLong - destinationLong)
  ) * radius;

  return distance;
}


//const distance = calculateDistance(start, destination);

//console.log(`The distance between both locations is ${distance.toFixed(2)} km.`);


checkClusterDistances();

 </script>   
</body>
</html>